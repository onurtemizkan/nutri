# Home Navigation E2E Tests
# Tests navigation between tabs and screens from home

appId: host.exp.Exponent

---

# Test: Navigate to Profile Tab
- runFlow: ../../flows/sign_in_test_user.yaml

- assertVisible:
    id: "home-screen"

# Tap profile tab using coordinates (tabs have complex accessibility labels)
# Profile tab is at approximately 83% from left, 95% from top
- tapOn:
    point: "83%,95%"

# Verify profile screen
- extendedWaitUntil:
    visible:
      id: "profile-screen"
    timeout: 10000

---

# Test: Navigate Back to Home Tab
- runFlow: ../../flows/sign_in_test_user.yaml

- assertVisible:
    id: "home-screen"

# Go to profile (83%, 95%)
- tapOn:
    point: "83%,95%"
- extendedWaitUntil:
    visible:
      id: "profile-screen"
    timeout: 10000

# Go back to home (17%, 95%)
- tapOn:
    point: "17%,95%"

# Verify home screen
- assertVisible:
    id: "home-screen"

---

# Test: Navigate to Add Meal and Back
- runFlow: ../../flows/sign_in_test_user.yaml

- assertVisible:
    id: "home-screen"

# Open add meal
- tapOn:
    id: "home-add-meal-fab"

- extendedWaitUntil:
    visible:
      id: "add-meal-screen"
    timeout: 10000

# Cancel and go back
- tapOn:
    id: "add-meal-cancel-button"
    optional: true

- tapOn:
    text: "Cancel"
    optional: true

# Should be back on home
- extendedWaitUntil:
    visible:
      id: "home-screen"
    timeout: 10000
