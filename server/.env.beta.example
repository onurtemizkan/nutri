# =============================================================================
# Nutri Backend - Beta Environment Configuration
# =============================================================================
#
# This file documents environment variables for the BETA backend.
# Copy to Coolify environment variables for the beta backend application.
#
# =============================================================================

# =============================================================================
# PostgreSQL Database (Beta)
# =============================================================================
# Create a separate Supabase project for beta OR use a separate database
# in the same project for cost savings.
#
# Option 1: Separate Supabase project (recommended for isolation)
DATABASE_URL=postgresql://postgres.[beta-project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/postgres?pgbouncer=true
DIRECT_URL=postgresql://postgres.[beta-project-ref]:[password]@aws-0-[region].pooler.supabase.com:5432/postgres

# Option 2: Same Supabase project, different database
# Use Supabase SQL Editor to: CREATE DATABASE nutri_beta;
# DATABASE_URL=postgresql://postgres.[project-ref]:[password]@aws-0-[region].pooler.supabase.com:6543/nutri_beta?pgbouncer=true

# =============================================================================
# JWT Authentication (Beta)
# =============================================================================
# Use a DIFFERENT secret than production for security isolation
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET=your-beta-jwt-secret-DIFFERENT-from-production
JWT_EXPIRES_IN=7d

# =============================================================================
# Environment Settings
# =============================================================================
NODE_ENV=production
PORT=3000

# =============================================================================
# HTTPS/Security Configuration
# =============================================================================
# Enable HTTP to HTTPS redirect (set to 'true' when behind HTTPS terminating proxy)
ENFORCE_HTTPS=true
# Trust proxy setting (1 for single reverse proxy like nginx/Coolify)
TRUST_PROXY=1

# =============================================================================
# ML Service Connection (Beta)
# =============================================================================
# Internal Docker network URL (if on same Coolify server)
ML_SERVICE_URL=http://nutri-ml-beta:8000

# =============================================================================
# Optional: Error Tracking (Beta)
# =============================================================================
# Use same Sentry project but different environment tag
# SENTRY_DSN=https://xxxxx@xxxxx.ingest.sentry.io/xxxxx
# SENTRY_ENVIRONMENT=beta

# =============================================================================
# Optional: CORS Configuration
# =============================================================================
# CORS_ORIGIN=*
