appId: ${APP_ID}

---
# Test: User Login Flow
# Description: Validates successful login with valid credentials

- launchApp
- assertVisible: "Nutri"
- assertVisible: "Sign In"

# Navigate to sign in
- tapOn: "Sign In"
- assertVisible: "Welcome Back"
- assertVisible: "Sign in to continue"

# Fill in login credentials
- tapOn:
    text: "your@email.com"
- inputText: "${TEST_EMAIL}"

- tapOn:
    text: "Enter your password"
- inputText: "${TEST_PASSWORD}"

# Submit login
- tapOn: "Sign In"

# Verify successful login - should see home screen
- assertVisible: "Hello, ${TEST_NAME}!"
- assertVisible: "Calories"
- assertVisible: "Home"
- assertVisible: "Profile"

---
# Test: Login Validation - Empty Fields
# Description: Ensures validation catches empty login fields

- launchApp
- tapOn: "Sign In"
- assertVisible: "Welcome Back"

# Try to submit with empty fields
- tapOn: "Sign In"
- assertVisible: "Please fill in all fields"

---
# Test: Login Validation - Invalid Email Format
# Description: Validates email format on login

- launchApp
- tapOn: "Sign In"

- tapOn:
    text: "your@email.com"
- inputText: "not-an-email"

- tapOn:
    text: "Enter your password"
- inputText: "password123"

- tapOn: "Sign In"
- assertVisible: "Please enter a valid email address"

---
# Test: Login Error - Invalid Credentials
# Description: Validates error handling for wrong password

- launchApp
- tapOn: "Sign In"

- tapOn:
    text: "your@email.com"
- inputText: "wrong@example.com"

- tapOn:
    text: "Enter your password"
- inputText: "WrongPassword123"

- tapOn: "Sign In"
- assertVisible: "Invalid email or password"

---
# Test: Navigate to Sign Up from Sign In
# Description: Validates navigation from sign in to sign up

- launchApp
- tapOn: "Sign In"
- assertVisible: "Welcome Back"

# Navigate to sign up
- tapOn: "Sign Up"
- assertVisible: "Create Account"
- assertVisible: "Start tracking your nutrition"

---
# Test: Navigate to Forgot Password
# Description: Validates forgot password navigation

- launchApp
- tapOn: "Sign In"
- assertVisible: "Welcome Back"

# Navigate to forgot password
- tapOn: "Forgot?"
- assertVisible: "Forgot Password"

---
# Test: Complete Login Flow with Navigation
# Description: Full login flow including tab navigation after login

- launchApp
- tapOn: "Sign In"

# Login
- tapOn:
    text: "your@email.com"
- inputText: "${TEST_EMAIL}"

- tapOn:
    text: "Enter your password"
- inputText: "${TEST_PASSWORD}"

- tapOn: "Sign In"

# Verify on home screen
- assertVisible: "Hello, ${TEST_NAME}!"

# Navigate to profile tab
- tapOn: "Profile"
- assertVisible: "Daily Goals"

# Navigate back to home
- tapOn: "Home"
- assertVisible: "Calories"
