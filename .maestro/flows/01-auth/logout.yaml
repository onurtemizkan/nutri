appId: ${APP_ID}

---
# Test: User Logout Flow
# Description: Validates complete logout process including confirmation dialog

# Prerequisites: User must be logged in
- launchApp

# Login first
- tapOn: "Sign In"
- tapOn:
    text: "your@email.com"
- inputText: "${TEST_EMAIL}"
- tapOn:
    text: "Enter your password"
- inputText: "${TEST_PASSWORD}"
- tapOn: "Sign In"

# Wait for home screen
- assertVisible: "Hello, ${TEST_NAME}!"

# Navigate to profile
- tapOn: "Profile"
- assertVisible: "Daily Goals"

# Scroll to bottom to find logout button
- scroll

# Tap logout
- tapOn: "Logout"

# Verify confirmation dialog appears
- assertVisible: "Logout"
- assertVisible: "Are you sure you want to logout?"

# Confirm logout
- tapOn: "Logout"

# Verify back at welcome screen
- assertVisible: "Nutri"
- assertVisible: "Track your nutrition journey"
- assertVisible: "Sign In"
- assertVisible: "Create Account"

---
# Test: Cancel Logout
# Description: Validates canceling logout dialog keeps user logged in

- launchApp

# Login
- tapOn: "Sign In"
- tapOn:
    text: "your@email.com"
- inputText: "${TEST_EMAIL}"
- tapOn:
    text: "Enter your password"
- inputText: "${TEST_PASSWORD}"
- tapOn: "Sign In"

# Navigate to profile
- tapOn: "Profile"

# Scroll to logout
- scroll

# Tap logout
- tapOn: "Logout"

# Cancel logout
- tapOn: "Cancel"

# Verify still on profile screen
- assertVisible: "Daily Goals"
- assertVisible: "${TEST_NAME}"

# Verify can still navigate
- tapOn: "Home"
- assertVisible: "Calories"
