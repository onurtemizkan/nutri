appId: ${APP_ID}

# Test: Edit Meal Flow
# Validates: Meal editing functionality

- launchApp

# Login
- tapOn: "Sign In"
- tapOn:
    text: "your@email.com"
- inputText: "${TEST_EMAIL}"
- tapOn:
    text: "Enter your password"
- inputText: "${TEST_PASSWORD}"
- tapOn: "Sign In"

# Add a meal first
- tapOn: "Add Meal"
- tapOn: "Breakfast"
- tapOn:
    text: "e.g., Grilled Chicken Salad"
- inputText: "Test Meal to Edit"
- tapOn:
    text: "Calories"
- inputText: "300"
- tapOn:
    text: "Protein"
- inputText: "20"
- tapOn:
    text: "Carbs"
- inputText: "35"
- tapOn:
    text: "Fat"
- inputText: "10"
- tapOn: "Save"
- tapOn: "OK"

# Find and edit the meal
- tapOn: "Breakfast"
- assertVisible: "Test Meal to Edit"
- tapOn: "Test Meal to Edit"
- assertVisible: "Edit Meal"

# Update meal details
- tapOn:
    text: "Test Meal to Edit"
- clearText
- inputText: "Updated Meal Name"

- tapOn:
    text: "300"
- clearText
- inputText: "350"

- tapOn: "Save"

# Verify update
- assertVisible: "Meal updated successfully"
- tapOn: "OK"
- assertVisible: "Updated Meal Name"
